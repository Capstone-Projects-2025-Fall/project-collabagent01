"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[2891],{28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(96540);const t={},a=i.createContext(t);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(a.Provider,{value:n},e.children)}},29553:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"api-specification/collab-agent-views","title":"Collab Agent Views","description":"TypeDoc documentation for Collab Agent Views","source":"@site/docs/api-specification/collab-agent-views.md","sourceDirName":"api-specification","slug":"/api-specification/collab-agent-views","permalink":"/project-collabagent01/docs/api-specification/collab-agent-views","draft":false,"unlisted":false,"editUrl":"https://github.com/Capstone-Projects-2025-Fall/project-collabagent01/edit/main/documentation/docs/api-specification/collab-agent-views.md","tags":[],"version":"current","lastUpdatedBy":"Alphin Shajan","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"description":"TypeDoc documentation for Collab Agent Views"},"sidebar":"docsSidebar","previous":{"title":"API 1 - Collab Agent","permalink":"/project-collabagent01/docs/api-specification/openapi-spec"},"next":{"title":"Test Procedures","permalink":"/project-collabagent01/docs/category/test-procedures"}}');var t=s(74848),a=s(28453);const r={sidebar_position:3,description:"TypeDoc documentation for Collab Agent Views"},l="Collab Agent Views",o={},c=[{value:"Agent Panel (AgentPanel.ts)",id:"agent-panel-agentpanelts",level:2},{value:"postTeamInfo Function",id:"postteaminfo-function",level:3},{value:"broadcastSnapshot Function",id:"broadcastsnapshot-function",level:3},{value:"loadActivityFeed Function",id:"loadactivityfeed-function",level:3},{value:"handleCreateTeam Function",id:"handlecreateteam-function",level:3},{value:"handleJoinTeam Function",id:"handlejointeam-function",level:3},{value:"handleSwitchTeam Function",id:"handleswitchteam-function",level:3},{value:"takeInitialSnapshot Function",id:"takeinitialsnapshot-function",level:3},{value:"handleDeleteTeam Function",id:"handledeleteteam-function",level:3},{value:"handleLeaveTeam Function",id:"handleleaveteam-function",level:3},{value:"Live Share Panel (LiveSharePanel.ts)",id:"live-share-panel-livesharepanelts",level:2},{value:"LiveShareManager Class",id:"livesharemanager-class",level:3},{value:"loadParticipantsFromSupabase Function",id:"loadparticipantsfromsupabase-function",level:3},{value:"insertLiveShareSessionEndEvent Function",id:"insertlivesharesessionendevent-function",level:3},{value:"pauseAutomaticSnapshotting Function",id:"pauseautomaticsnapshotting-function",level:3},{value:"resumeAutomaticSnapshotting Function",id:"resumeautomaticsnapshotting-function",level:3},{value:"Main Panel (MainPanel.ts)",id:"main-panel-mainpanelts",level:2},{value:"CollabAgentPanelProvider Class",id:"collabagentpanelprovider-class",level:3},{value:"resolveWebviewView Function",id:"resolvewebviewview-function",level:3},{value:"_getHtmlForWebview Function",id:"_gethtmlforwebview-function",level:3},{value:"Tasks Panel (TasksPanel.ts)",id:"tasks-panel-taskspanelts",level:2},{value:"TasksPanel Class",id:"taskspanel-class",level:3},{value:"refreshTeamState Function",id:"refreshteamstate-function",level:3},{value:"loadTasks Function",id:"loadtasks-function",level:3},{value:"handleConnectJira Function",id:"handleconnectjira-function",level:3},{value:"handleDisconnectJira Function",id:"handledisconnectjira-function",level:3},{value:"handleCreateTask Function",id:"handlecreatetask-function",level:3},{value:"handleGetAISuggestions Function",id:"handlegetaisuggestions-function",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"collab-agent-views",children:"Collab Agent Views"})}),"\n",(0,t.jsx)(n.h2,{id:"agent-panel-agentpanelts",children:"Agent Panel (AgentPanel.ts)"}),"\n",(0,t.jsx)(n.h3,{id:"postteaminfo-function",children:"postTeamInfo Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/AgentPanel.ts:202"})]}),"\n",(0,t.jsx)(n.p,{children:"Posts current team information and member list to the webview."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"void"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Gathers current team data, validates workspace project match, fetches team members, and sends all information to the webview for display"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Team Clearing:"})," If no workspace folders open, clears current team selection to prevent team operations without project context"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Snapshot Auto-Trigger:"})," Checks if team is loaded, user authenticated, project matches; calls ",(0,t.jsx)(n.code,{children:"takeInitialSnapshot()"})," if no baseline exists"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"broadcastsnapshot-function",children:"broadcastSnapshot Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/AgentPanel.ts:397"})]}),"\n",(0,t.jsx)(n.p,{children:"Broadcasts a manual snapshot of current workspace changes to the team."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Allows users to manually broadcast their current code changes, bypassing automatic snapshot constraints like minimum line changes and cooldown period"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validation:"})," User must be signed in, team must be selected, snapshot manager must be initialized"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Manual vs Automatic:"})," Bypasses minimum line change requirement and cooldown period, but still requires initial snapshot to exist"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const agentPanel = new AgentPanelProvider(extensionUri, context);\nawait agentPanel.broadcastSnapshot();\n// Snapshot broadcasted to team, activity feed refreshed\n"})}),"\n",(0,t.jsx)(n.h3,{id:"loadactivityfeed-function",children:"loadActivityFeed Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/AgentPanel.ts:476"})]}),"\n",(0,t.jsx)(n.p,{children:"Loads recent activity feed for a team and sends it to the webview."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"teamId?: string"})," - Optional team ID to load activity for (defaults to current team)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"limit?: number"})," - Maximum number of activity items to fetch (default: 25)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Activity Types:"})," Code snapshots from team members, AI task assignment recommendations, other team collaboration events"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data Flow:"})," Uses current team if no teamId provided, calls ",(0,t.jsx)(n.code,{children:"fetchTeamActivity()"})," from team-activity-service, sends ",(0,t.jsx)(n.code,{children:"activityFeed"})," message to webview on success"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'// Load default 25 recent items for current team\nawait agentPanel.loadActivityFeed();\n\n// Load 50 items for specific team\nawait agentPanel.loadActivityFeed("team-123", 50);\n'})}),"\n",(0,t.jsx)(n.h3,{id:"handlecreateteam-function",children:"handleCreateTeam Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/AgentPanel.ts:528"})]}),"\n",(0,t.jsx)(n.p,{children:"Handles team creation workflow with input validation and database persistence."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validation Rules:"})," Name cannot be empty or whitespace only, name must be 50 characters or less"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Post-Creation:"})," Team automatically becomes current selection, join code displayed with copy option, UI updated to reflect new team"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Workflow:"})," Shows input box with validation \u2192 Creates team via ",(0,t.jsx)(n.code,{children:"createTeam()"})," service \u2192 Shows progress notification \u2192 Displays join code with option to copy to clipboard \u2192 Refreshes teams list and selects new team"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'// User clicks "Create Team" button\nawait this.handleCreateTeam();\n// Prompts appear, team created, join code shown\n'})}),"\n",(0,t.jsx)(n.h3,{id:"handlejointeam-function",children:"handleJoinTeam Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/AgentPanel.ts:612"})]}),"\n",(0,t.jsx)(n.p,{children:"Handles team join workflow with project validation and join code verification."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validation Rules:"})," Join code must be exactly 6 characters, must contain only letters and numbers, team must exist in database, current workspace must match team's Git repository"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Project Validation:"})," Checked BEFORE actually joining the team, prevents joining wrong team for current project, shows detailed error with correct repository info"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Workflow:"})," Shows input box with join code validation \u2192 Looks up team via ",(0,t.jsx)(n.code,{children:"lookupTeamByJoinCode()"})," \u2192 Validates current project matches team's project \u2192 Joins team via ",(0,t.jsx)(n.code,{children:"joinTeam()"})," service if validation passes"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'// User clicks "Join Team" button\nawait this.handleJoinTeam();\n// Prompts for join code, validates, joins if matches\n'})}),"\n",(0,t.jsx)(n.h3,{id:"handleswitchteam-function",children:"handleSwitchTeam Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/AgentPanel.ts:731"})]}),"\n",(0,t.jsx)(n.p,{children:"Handles team switching workflow with project validation."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Validation:"})," Workspace folder must be open, current project must match team's Git repository exactly, Git fingerprints must match (prevents wrong repo)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Single Team Users:"})," Still shows picker to explicitly activate snapshot tracking; selecting same team again activates it with confirmation message"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Workflow:"})," Shows team picker for user to select from their teams \u2192 Validates workspace folder is open \u2192 Validates current project matches team's Git repository \u2192 Updates current team in global state \u2192 Calls ",(0,t.jsx)(n.code,{children:"takeInitialSnapshot()"})," to enable tracking"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'// User clicks "Switch Team" button\nawait this.handleSwitchTeam();\n// Shows team picker, validates project, switches if valid\n'})}),"\n",(0,t.jsx)(n.h3,{id:"takeinitialsnapshot-function",children:"takeInitialSnapshot Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/AgentPanel.ts:853"})]}),"\n",(0,t.jsx)(n.p,{children:"Takes initial baseline snapshot when team is selected or switched."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"teamId: string"})," - The team ID to associate the snapshot with"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Baseline Snapshot:"})," First snapshot taken when team is selected, establishes reference point for future automatic snapshots, required for automatic snapshot tracking to work"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"When Called:"})," Team is switched via ",(0,t.jsx)(n.code,{children:"handleSwitchTeam()"}),", team auto-selected in ",(0,t.jsx)(n.code,{children:"postTeamInfo()"})," if no baseline exists"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Process:"})," Gets current authenticated user \u2192 Extracts project name from workspace folders \u2192 Calls ",(0,t.jsx)(n.code,{children:"snapshotManager.takeSnapshot()"})," to create baseline"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'// After user switches to a team\nawait this.takeInitialSnapshot("team-123");\n// Baseline snapshot captured, automatic tracking enabled\n'})}),"\n",(0,t.jsx)(n.h3,{id:"handledeleteteam-function",children:"handleDeleteTeam Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/AgentPanel.ts:1201"})]}),"\n",(0,t.jsx)(n.p,{children:"Handles team deletion workflow with admin verification and confirmation."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Admin Only:"})," Only team creators/admins can delete teams; members see error if they attempt deletion"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Confirmation:"}),' Modal dialog with warning message, clearly states action is permanent and irreversible, user must click "Yes, Delete" to proceed']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Post-Deletion:"})," Team removed from database, all memberships removed, current team selection cleared, UI updated to reflect deletion"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'// User clicks "Delete Team" button\nawait this.handleDeleteTeam();\n// Prompts for confirmation, deletes if admin confirms\n'})}),"\n",(0,t.jsx)(n.h3,{id:"handleleaveteam-function",children:"handleLeaveTeam Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/AgentPanel.ts:1290"})]}),"\n",(0,t.jsx)(n.p,{children:"Handles team leave workflow with member verification and confirmation."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Member Only:"})," Only team members can leave teams; admins see error directing them to delete team instead; prevents admins from abandoning their teams"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Confirmation:"})," Modal dialog with warning message, states user will lose access to team, notes user can rejoin later with join code"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Post-Leave:"})," User's membership removed from database, user removed from team members list, current team selection cleared, UI updated to reflect team removal"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'// Member clicks "Leave Team" button\nawait this.handleLeaveTeam();\n// Prompts for confirmation, removes membership if confirmed\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"live-share-panel-livesharepanelts",children:"Live Share Panel (LiveSharePanel.ts)"}),"\n",(0,t.jsx)(n.h3,{id:"livesharemanager-class",children:"LiveShareManager Class"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/LiveSharePanel.ts:47"})]}),"\n",(0,t.jsx)(n.p,{children:"Provides Live Share functionality for the Collab Agent extension."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Key Features:"})," Dual Participant Tracking (uses both Live Share API events and Supabase real-time updates); Session Baseline (captures workspace state at session start for diff comparison); Activity Integration (automatically logs session events to team activity feed); Snapshot Management (pauses automatic snapshots during collaboration, resumes after)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Session Flow:"})," Host starts session \u2192 creates baseline snapshot \u2192 pauses automatic tracking; Participants announce presence via Supabase; Session activity is tracked in activity feed with invite links; Session ends \u2192 captures session changes \u2192 creates summary \u2192 resumes tracking"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Important Notes:"})," Only hosts can end sessions (guests can only leave); Session changes are only captured for hosts (guests don't save snapshots); Closing workspace folder ends the session for all participants"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"loadparticipantsfromsupabase-function",children:"loadParticipantsFromSupabase Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/LiveSharePanel.ts:466"})]}),"\n",(0,t.jsx)(n.p,{children:"Loads all session participants from Supabase and updates the webview UI."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sessionId: string"})," - The Live Share session ID to query participants for"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Data Flow:"})," Queries session_participants table via SessionSyncService \u2192 Converts Supabase format to UI format (name, email, role) \u2192 Sends ",(0,t.jsx)(n.code,{children:"updateParticipants"})," message to webview \u2192 Updates session status with correct participant count"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Role Assignment:"})," Peer number 1 \u2192 Host; Peer number >1 \u2192 Guest"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"UI Updates:"})," Participant list with names and roles, total participant count, session status (hosting/joined) with updated count"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"insertlivesharesessionendevent-function",children:"insertLiveShareSessionEndEvent Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/LiveSharePanel.ts:706"})]}),"\n",(0,t.jsx)(n.p,{children:'Inserts a "Live Share Session Ended" event with participant details and session summary into the activity feed.'}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Critical Workflow:"})," Validates session tracking data \u2192 Calculates session duration in minutes \u2192 ",(0,t.jsx)(n.strong,{children:"Hosts Only:"})," Captures session changes using SnapshotManager diff \u2192 Creates live_share_ended event in activity feed \u2192 Creates file snapshot with session changes \u2192 Edge function automatically updates the event with AI-generated summary"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Session Changes Capture:"})," ",(0,t.jsx)(n.strong,{children:"Hosts"})," use SnapshotManager.captureSessionChanges() to get diff between baseline and current state; ",(0,t.jsx)(n.strong,{children:"Guests"}),' do not save session snapshots (marked as "(guest - no session snapshot)")']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Activity Feed Integration:"})," Event type: ",(0,t.jsx)(n.code,{children:"live_share_ended"}),"; includes: user, display name, session ID, duration, baseline snapshot ID; AI summary added automatically by edge function after snapshot creation"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"pauseautomaticsnapshotting-function",children:"pauseAutomaticSnapshotting Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/LiveSharePanel.ts:1810"})]}),"\n",(0,t.jsx)(n.p,{children:"Pauses automatic snapshot tracking when a Live Share session starts."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"isHost: boolean"})," - Whether the current user is the session host"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sessionId?: string"})," - The Live Share session ID"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<string | null>"})," - Returns the baseline snapshot ID if host, null otherwise"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Critical Workflow for Hosts:"})," Create session baseline FIRST (captures current state with pending changes) \u2192 Save pending changes as automatic snapshot (for AI summary in activity feed) \u2192 Pause automatic tracking"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Saves any pending local changes before pausing; if host, also creates a session baseline snapshot"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"resumeautomaticsnapshotting-function",children:"resumeAutomaticSnapshotting Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/LiveSharePanel.ts:1856"})]}),"\n",(0,t.jsx)(n.p,{children:"Resumes automatic snapshot tracking after a Live Share session ends."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Process:"})," Gets current user and team \u2192 Calls ",(0,t.jsx)(n.code,{children:"snapshotManager.resumeAutomaticTracking()"})," which also takes a new baseline snapshot \u2192 Logs success/failure for debugging"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Takes a new initial snapshot to set a fresh baseline for post-session tracking"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"main-panel-mainpanelts",children:"Main Panel (MainPanel.ts)"}),"\n",(0,t.jsx)(n.h3,{id:"collabagentpanelprovider-class",children:"CollabAgentPanelProvider Class"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/MainPanel.ts:18"})]}),"\n",(0,t.jsx)(n.p,{children:"Main orchestrator panel that manages and displays five sub-panels."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Sub-Panels:"})," Home Screen (authentication, welcome, user info), Live Share (collaboration sessions, team messaging), Agent Panel (team management, AI chat bot), Tasks Panel (Jira task integration), Profile (user profile and preferences)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"resolvewebviewview-function",children:"resolveWebviewView Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/MainPanel.ts:67"})]}),"\n",(0,t.jsx)(n.p,{children:"Resolves the webview view when it becomes visible."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"webviewView: vscode.WebviewView"})," - The webview view to resolve"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"context: vscode.WebviewViewResolveContext"})," - The resolution context"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"_token: vscode.CancellationToken"})," - Cancellation token (unused)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Setup Process:"})," Sets up the webview HTML, message handlers, and initializes Live Share; sets up sub-panels with the webview for delegation; delegates commands to appropriate sub-panels (Live Share, Agent, Tasks, Profile)"]}),"\n",(0,t.jsx)(n.h3,{id:"_gethtmlforwebview-function",children:"_getHtmlForWebview Function"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/MainPanel.ts:1085"})]}),"\n",(0,t.jsx)(n.p,{children:"Generates the complete HTML content for the webview panel by combining templates and sub-panel content."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"webview: vscode.Webview"})," - The webview instance for generating resource URIs and CSP nonces"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<string>"})," - The complete HTML string for the panel"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"HTML Generation Process:"})," Checks Live Share extension installation status \u2192 Retrieves current authentication state and user info \u2192 Gathers HTML content from all sub-panels \u2192 Loads main panel template from media/mainPanel.html \u2192 Replaces template placeholders with style/script URIs, CSP nonce, authentication flags, and sub-panel HTML content"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Resource URIs:"})," All static resources (CSS, JS) are converted to webview URIs using asWebviewUri() for proper Content Security Policy compliance"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"tasks-panel-taskspanelts",children:"Tasks Panel (TasksPanel.ts)"}),"\n",(0,t.jsx)(n.h3,{id:"taskspanel-class",children:"TasksPanel Class"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/TasksPanel.ts:10"})]}),"\n",(0,t.jsx)(n.p,{children:"Tasks panel for displaying Jira issues/tasks for teams."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Purpose:"})," Admin users can configure Jira integration, all team members can view tasks"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Rate Limiting:"})," AI Suggestions feature has 5-minute cooldown per team to manage API costs; maximum 25 tasks analyzed per AI request"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"refreshteamstate-function",children:"refreshTeamState Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/TasksPanel.ts:114"})]}),"\n",(0,t.jsx)(n.p,{children:"Refreshes the current team and user state from global storage."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Process:"})," Gets the current team ID from VS Code global state \u2192 Fetches user teams to determine the current user's role in the selected team \u2192 Checks if Jira is configured for the team via JiraService \u2192 Updates internal state flags"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error Handling:"})," On error, resets all state to null/false to prevent inconsistent UI states"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"await this.refreshTeamState();\nthis.updateUI(); // Update UI based on new state\n"})}),"\n",(0,t.jsx)(n.h3,{id:"loadtasks-function",children:"loadTasks Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/TasksPanel.ts:252"})]}),"\n",(0,t.jsx)(n.p,{children:"Loads and displays Jira tasks/issues for the current team."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Process:"})," Requires a valid ",(0,t.jsx)(n.code,{children:"_currentTeamId"})," and ",(0,t.jsx)(n.code,{children:"_view"})," to be set \u2192 Calls ",(0,t.jsx)(n.code,{children:"JiraService.fetchTeamIssues()"})," to retrieve all issues for the team \u2192 Posts a message to the webview with tasks and admin status \u2192 Shows loading/error states in the UI"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error Handling:"})," On error, displays an error message in the UI and logs to console"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// Refresh tasks after a state change\nawait this.loadTasks();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"handleconnectjira-function",children:"handleConnectJira Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/TasksPanel.ts:311"})]}),"\n",(0,t.jsx)(n.p,{children:"Initiates Jira OAuth connection flow for team administrators."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security:"})," Only works for team administrators (",(0,t.jsx)(n.code,{children:"_currentUserRole === 'admin'"}),"); enforces admin-only access (returns early for non-admins); requires valid team ID and authenticated user"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Process:"})," Retrieves the current user's authentication context \u2192 Calls ",(0,t.jsx)(n.code,{children:"JiraService.initiateJiraAuth()"})," to start OAuth flow \u2192 Refreshes team state and updates UI after successful connection"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'// Called when admin clicks "Connect to Jira" button\nawait tasksPanel.handleConnectJira();\n'})}),"\n",(0,t.jsx)(n.h3,{id:"handledisconnectjira-function",children:"handleDisconnectJira Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/TasksPanel.ts:448"})]}),"\n",(0,t.jsx)(n.p,{children:"Disconnects the team from Jira and removes the integration configuration."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Security:"})," Only works for team administrators; requires user confirmation via modal dialog; completely removes all stored Jira credentials"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Process:"})," Shows a modal confirmation dialog before disconnecting \u2192 Calls ",(0,t.jsx)(n.code,{children:"JiraService.disconnectJira()"})," to remove credentials and config \u2192 Refreshes team state to show setup UI again"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'// Called when admin clicks "Disconnect from Jira" button\nawait tasksPanel.handleDisconnectJira();\n'})}),"\n",(0,t.jsx)(n.h3,{id:"handlecreatetask-function",children:"handleCreateTask Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/TasksPanel.ts:805"})]}),"\n",(0,t.jsx)(n.p,{children:"Creates a new Jira issue/task for the current team."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Parameters:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"taskData: any"})," - The task creation data object containing fields like summary, description, issue type, etc."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Process:"})," Validates that a team is selected and view is available \u2192 Calls ",(0,t.jsx)(n.code,{children:"JiraService.createIssue()"})," to create the issue in Jira \u2192 Shows success notification with the created issue key \u2192 Posts 'taskCreated' message to webview on success \u2192 Refreshes the task list to include the new task"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"await tasksPanel.handleCreateTask(taskData);\n// taskData contains: summary, description, issuetype, priority\n"})}),"\n",(0,t.jsx)(n.h3,{id:"handlegetaisuggestions-function",children:"handleGetAISuggestions Function"}),"\n",(0,t.jsxs)(n.p,{children:["Defined in ",(0,t.jsx)(n.strong,{children:"views/TasksPanel.ts:879"})]}),"\n",(0,t.jsx)(n.p,{children:"Generates AI-powered task assignment recommendations for unassigned Jira issues."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Returns:"})," ",(0,t.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Remarks:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Rate Limiting:"})," Cooldown period: 5 minutes (",(0,t.jsx)(n.code,{children:"AI_COOLDOWN_MS"}),"); max tasks analyzed: 25 tasks (",(0,t.jsx)(n.code,{children:"MAX_TASKS_TO_ANALYZE"}),"); tracked per team ID in ",(0,t.jsx)(n.code,{children:"_lastAISuggestionTime"})," map"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"API Call:"})," Endpoint: POST /api/ai/task_recommendations with team ID, user ID, and unassigned tasks data; returns count of recommendations generated"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Process:"})," Fetches all team issues and filters for unassigned tasks \u2192 Enforces rate limiting and task limit \u2192 Sends task data to AI recommendations API endpoint \u2192 Posts recommendations to team activity timeline via backend"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'// Called when user clicks "Get AI Suggestions" button\nawait tasksPanel.handleGetAISuggestions();\n// AI analyzes unassigned tasks and posts recommendations to timeline\n'})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);